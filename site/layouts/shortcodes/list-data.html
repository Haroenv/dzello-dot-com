{{ $list := or (.Get "list") $.Page.Params.dataList }}

{{ $class := or (.Get "class") "section-list-data" }}
{{ $tag := .Get "tag" }}

{{ with index $.Site.Data $list }}
  <ul class="{{ $class }}">
  {{ range $key, $element := . }}
    {{ range $element }}
      {{ if ne .hidden true }}
        {{ if or (not $tag) (eq $tag .tag)}}
          {{ partial (printf "%s" $key) . $ }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  </ul>
{{ end }}
