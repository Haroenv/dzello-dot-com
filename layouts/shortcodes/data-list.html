{{ $list := .Get "list" }}
{{ $tag := .Get "tag" }}
{{ with index $.Site.Data $list }}
  <ul class="data-list">
  {{ range $key, $element := . }}
    {{ range $element }}
      {{ if ne .hidden true }}
        {{ if or (not $tag) (eq $tag .tag)}}
          {{ partial (printf "work/%s.html" $key) . }}
        {{ end }}
      {{ end }}
    {{ end }}
  {{ end }}
  </ul>
{{ end }}
